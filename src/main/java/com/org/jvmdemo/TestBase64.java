package com.org.jvmdemo;


import java.io.UnsupportedEncodingException;
import java.net.URLDecoder;
import java.util.Base64;

/**
 * @name:
 * @Copyright: CopyRight(c) 2020
 * @description: <br>
 * @precautions“ì
 * @date: 2020/9/8 19:37 <br>
 * @author: liujing <br>
 * @version: 1.0.0 <br>
 */
public class TestBase64 {
    public static void main(String[] args) throws UnsupportedEncodingException {

        String str2 = "";

        String str = "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgY1hNTCBTWVNURU0gImh0dHA6Ly94bWwuY3htbC5vcmcvc2NoZW1hcy9jWE1MLzEuMi4wMTQvY1hNTC5kdGQiPjxjWE1MIHRpbWVzdGFtcD0iMjAyMC0wOS0wOFQxNjoyNjo0MCIgcGF5bG9hZElEPSI3MDJkMzlhZTZjNDU0MjUxYTNhMjcyM2ViY2JlZDMxYiIgeHNpOnNjaGVtYUxvY2F0aW9uPSIiIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiPjxIZWFkZXI%2BPEZyb20%2BPENyZWRlbnRpYWwgZG9tYWluPSJOZXR3b3JrSUQiPjxJZGVudGl0eT5KRFZFUDRESURJPC9JZGVudGl0eT48L0NyZWRlbnRpYWw%2BPC9Gcm9tPjxUbz48Q3JlZGVudGlhbCBkb21haW49Ik5ldHdvcmtJRCI%2BPElkZW50aXR5PkRpZGlwdXI8L0lkZW50aXR5PjwvQ3JlZGVudGlhbD48L1RvPjxTZW5kZXI%2BPENyZWRlbnRpYWwgZG9tYWluPSJOZXR3b3JrSUQiPjxJZGVudGl0eT5KRFZFUDRESURJPC9JZGVudGl0eT48U2hhcmVkU2VjcmV0Pk9HTm1OR00zT0dZdE5XSmhZaTAwWlRVd0xUazBZVFl0T0RBd1pEVm1ZVFU0TmpNeDwvU2hhcmVkU2VjcmV0PjwvQ3JlZGVudGlhbD48VXNlckFnZW50PkpEIFZFUDwvVXNlckFnZW50PjwvU2VuZGVyPjwvSGVhZGVyPjxNZXNzYWdlPjxQdW5jaE91dE9yZGVyTWVzc2FnZT48QnV5ZXJDb29raWU%2BYmU5MTRkMjQtOGIwOS00ZGU0LWJkNGMtMjAxYWQwYWU1MmFjPC9CdXllckNvb2tpZT48UHVuY2hPdXRPcmRlck1lc3NhZ2VIZWFkZXIgb3BlcmF0aW9uQWxsb3dlZD0iZWRpdCI%2BPFRvdGFsPjxNb25leSBjdXJyZW5jeT0iQ05ZIj44OTcuMjQ8L01vbmV5PjwvVG90YWw%2BPFRheD48TW9uZXkgY3VycmVuY3k9IkNOWSI%2BMzAuNTY8L01vbmV5PjxEZXNjcmlwdGlvbiB4bWw6bGFuZz0iemgtQ04iPueojuminTwvRGVzY3JpcHRpb24%2BPC9UYXg%2BPC9QdW5jaE91dE9yZGVyTWVzc2FnZUhlYWRlcj48SXRlbUluIHF1YW50aXR5PSI0Ij48SXRlbUlEPjxTdXBwbGllclBhcnRJRD4xMDAwMDIwNjc1NjI8L1N1cHBsaWVyUGFydElEPjxTdXBwbGllclBhcnRBdXhpbGlhcnlJRD4xMjY0NjkxMzk1MTk8L1N1cHBsaWVyUGFydEF1eGlsaWFyeUlEPjwvSXRlbUlEPjxJdGVtRGV0YWlsIHhzaTp0eXBlPSJpdGVtRGV0YWlsIj48VW5pdFByaWNlPjxNb25leSBjdXJyZW5jeT0iQ05ZIj42My40OTwvTW9uZXk%2BPC9Vbml0UHJpY2U%2BPFVuaXRQcmljZVdpdGhUYXg%2BPE1vbmV5IGN1cnJlbmN5PSJDTlkiPjcxLjc1PC9Nb25leT48L1VuaXRQcmljZVdpdGhUYXg%2BPFRheD48VGF4RGV0YWlsIHBlcmNlbnRhZ2VSYXRlPSIxMy4wMCIgY2F0ZWdvcnk9IlZBVCIvPjwvVGF4PjxEZXNjcmlwdGlvbiB4bWw6bGFuZz0iemgtQ04iPuaYpemjjiDoh6rliqjllrfpppnmnLroirPpppnliYLpppnmsLQg5Y6V5omA6Zmk6Iet56m65rCU5riF5paw5YmCIOWutueUqOmmmeawm%2BWWt%2Bmbvu%2B8iOafoOaqrDbnk7bvvIkqMzAwbWw8L0Rlc2NyaXB0aW9uPjxVbml0T2ZNZWFzdXJlPkVBPC9Vbml0T2ZNZWFzdXJlPjxNYW51ZmFjdHVyZXJQYXJ0SUQ%2BMTI2NDY5MTM5NTE5PC9NYW51ZmFjdHVyZXJQYXJ0SUQ%2BPExlYWRUaW1lPjE0PC9MZWFkVGltZT48L0l0ZW1EZXRhaWw%2BPC9JdGVtSW4%2BPEl0ZW1JbiBxdWFudGl0eT0iNCI%2BPEl0ZW1JRD48U3VwcGxpZXJQYXJ0SUQ%2BNTcxNTg4MzwvU3VwcGxpZXJQYXJ0SUQ%2BPFN1cHBsaWVyUGFydEF1eGlsaWFyeUlEPjEyNjQ2OTEzOTUxOTwvU3VwcGxpZXJQYXJ0QXV4aWxpYXJ5SUQ%2BPC9JdGVtSUQ%2BPEl0ZW1EZXRhaWwgeHNpOnR5cGU9Iml0ZW1EZXRhaWwiPjxVbml0UHJpY2U%2BPE1vbmV5IGN1cnJlbmN5PSJDTlkiPjI1LjY4PC9Nb25leT48L1VuaXRQcmljZT48VW5pdFByaWNlV2l0aFRheD48TW9uZXkgY3VycmVuY3k9IkNOWSI%2BMjkuMDI8L01vbmV5PjwvVW5pdFByaWNlV2l0aFRheD48VGF4PjxUYXhEZXRhaWwgcGVyY2VudGFnZVJhdGU9IjEzLjAwIiBjYXRlZ29yeT0iVkFUIi8%2BPC9UYXg%2BPERlc2NyaXB0aW9uIHhtbDpsYW5nPSJ6aC1DTiI%2B5YeA5L2w5L%2BQIDg05raI5q%2BS5rayIOa8gueZveawtCDpmaToj4zmsLQg5p2A6I%2BM5raI5q%2BS5rC0My43ODXljYcv5qG2PC9EZXNjcmlwdGlvbj48VW5pdE9mTWVhc3VyZT5FQTwvVW5pdE9mTWVhc3VyZT48TWFudWZhY3R1cmVyUGFydElEPjEyNjQ2OTEzOTUxOTwvTWFudWZhY3R1cmVyUGFydElEPjxMZWFkVGltZT4xNDwvTGVhZFRpbWU%2BPC9JdGVtRGV0YWlsPjwvSXRlbUluPjxJdGVtSW4gcXVhbnRpdHk9IjMiPjxJdGVtSUQ%2BPFN1cHBsaWVyUGFydElEPjEwMDAwNjE3NDgzODwvU3VwcGxpZXJQYXJ0SUQ%2BPFN1cHBsaWVyUGFydEF1eGlsaWFyeUlEPjEyNjQ2OTEzOTUxOTwvU3VwcGxpZXJQYXJ0QXV4aWxpYXJ5SUQ%2BPC9JdGVtSUQ%2BPEl0ZW1EZXRhaWwgeHNpOnR5cGU9Iml0ZW1EZXRhaWwiPjxVbml0UHJpY2U%2BPE1vbmV5IGN1cnJlbmN5PSJDTlkiPjE0NS43NjwvTW9uZXk%2BPC9Vbml0UHJpY2U%2BPFVuaXRQcmljZVdpdGhUYXg%2BPE1vbmV5IGN1cnJlbmN5PSJDTlkiPjE2NC43MjwvTW9uZXk%2BPC9Vbml0UHJpY2VXaXRoVGF4PjxUYXg%2BPFRheERldGFpbCBwZXJjZW50YWdlUmF0ZT0iMTMuMDAiIGNhdGVnb3J5PSJWQVQiLz48L1RheD48RGVzY3JpcHRpb24geG1sOmxhbmc9InpoLUNOIj7kupTmnIjoirEoTWF5IEZsb3dlcikg5pOm5omL57q4IOWVhuWKoeeUqOe6uOmFkuW6l%2BmkkOWOheWNq%2BeUn%2BmXtOaKvee6uO%2B8iDIyNW1tKjIzMG1t77yJ5pW0566x6ZSA5ZSuPC9EZXNjcmlwdGlvbj48VW5pdE9mTWVhc3VyZT5FQTwvVW5pdE9mTWVhc3VyZT48TWFudWZhY3R1cmVyUGFydElEPjEyNjQ2OTEzOTUxOTwvTWFudWZhY3R1cmVyUGFydElEPjxMZWFkVGltZT4xNDwvTGVhZFRpbWU%2BPC9JdGVtRGV0YWlsPjwvSXRlbUluPjwvUHVuY2hPdXRPcmRlck1lc3NhZ2U%2BPC9NZXNzYWdlPjwvY1hNTD4%3D";

        String str1 = "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgY1hNTCBTWVNURU0gImh0dHA6Ly94bWwuY3htbC5vcmcvc2NoZW1hcy9jWE1MLzEuMi4wMTQvY1hNTC5kdGQiPjxjWE1MIHRpbWVzdGFtcD0iMjAyMC0wOS0wOFQxNjoyNjo0MCIgcGF5bG9hZElEPSI3MDJkMzlhZTZjNDU0MjUxYTNhMjcyM2ViY2JlZDMxYiIgeHNpOnNjaGVtYUxvY2F0aW9uPSIiIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiPjxIZWFkZXI+PEZyb20+PENyZWRlbnRpYWwgZG9tYWluPSJOZXR3b3JrSUQiPjxJZGVudGl0eT5KRFZFUDRESURJPC9JZGVudGl0eT48L0NyZWRlbnRpYWw+PC9Gcm9tPjxUbz48Q3JlZGVudGlhbCBkb21haW49Ik5ldHdvcmtJRCI+PElkZW50aXR5PkRpZGlwdXI8L0lkZW50aXR5PjwvQ3JlZGVudGlhbD48L1RvPjxTZW5kZXI+PENyZWRlbnRpYWwgZG9tYWluPSJOZXR3b3JrSUQiPjxJZGVudGl0eT5KRFZFUDRESURJPC9JZGVudGl0eT48U2hhcmVkU2VjcmV0Pk9HTm1OR00zT0dZdE5XSmhZaTAwWlRVd0xUazBZVFl0T0RBd1pEVm1ZVFU0TmpNeDwvU2hhcmVkU2VjcmV0PjwvQ3JlZGVudGlhbD48VXNlckFnZW50PkpEIFZFUDwvVXNlckFnZW50PjwvU2VuZGVyPjwvSGVhZGVyPjxNZXNzYWdlPjxQdW5jaE91dE9yZGVyTWVzc2FnZT48QnV5ZXJDb29raWU+YmU5MTRkMjQtOGIwOS00ZGU0LWJkNGMtMjAxYWQwYWU1MmFjPC9CdXllckNvb2tpZT48UHVuY2hPdXRPcmRlck1lc3NhZ2VIZWFkZXIgb3BlcmF0aW9uQWxsb3dlZD0iZWRpdCI+PFRvdGFsPjxNb25leSBjdXJyZW5jeT0iQ05ZIj44OTcuMjQ8L01vbmV5PjwvVG90YWw+PFRheD48TW9uZXkgY3VycmVuY3k9IkNOWSI+MzAuNTY8L01vbmV5PjxEZXNjcmlwdGlvbiB4bWw6bGFuZz0iemgtQ04iPueojuminTwvRGVzY3JpcHRpb24+PC9UYXg+PC9QdW5jaE91dE9yZGVyTWVzc2FnZUhlYWRlcj48SXRlbUluIHF1YW50aXR5PSI0Ij48SXRlbUlEPjxTdXBwbGllclBhcnRJRD4xMDAwMDIwNjc1NjI8L1N1cHBsaWVyUGFydElEPjxTdXBwbGllclBhcnRBdXhpbGlhcnlJRD4xMjY0NjkxMzk1MTk8L1N1cHBsaWVyUGFydEF1eGlsaWFyeUlEPjwvSXRlbUlEPjxJdGVtRGV0YWlsIHhzaTp0eXBlPSJpdGVtRGV0YWlsIj48VW5pdFByaWNlPjxNb25leSBjdXJyZW5jeT0iQ05ZIj42My40OTwvTW9uZXk+PC9Vbml0UHJpY2U+PFVuaXRQcmljZVdpdGhUYXg+PE1vbmV5IGN1cnJlbmN5PSJDTlkiPjcxLjc1PC9Nb25leT48L1VuaXRQcmljZVdpdGhUYXg+PFRheD48VGF4RGV0YWlsIHBlcmNlbnRhZ2VSYXRlPSIxMy4wMCIgY2F0ZWdvcnk9IlZBVCIvPjwvVGF4PjxEZXNjcmlwdGlvbiB4bWw6bGFuZz0iemgtQ04iPuaYpemjjiDoh6rliqjllrfpppnmnLroirPpppnliYLpppnmsLQg5Y6V5omA6Zmk6Iet56m65rCU5riF5paw5YmCIOWutueUqOmmmeawm+WWt+mbvu+8iOafoOaqrDbnk7bvvIkqMzAwbWw8L0Rlc2NyaXB0aW9uPjxVbml0T2ZNZWFzdXJlPkVBPC9Vbml0T2ZNZWFzdXJlPjxNYW51ZmFjdHVyZXJQYXJ0SUQ+MTI2NDY5MTM5NTE5PC9NYW51ZmFjdHVyZXJQYXJ0SUQ+PExlYWRUaW1lPjE0PC9MZWFkVGltZT48L0l0ZW1EZXRhaWw+PC9JdGVtSW4+PEl0ZW1JbiBxdWFudGl0eT0iNCI+PEl0ZW1JRD48U3VwcGxpZXJQYXJ0SUQ+NTcxNTg4MzwvU3VwcGxpZXJQYXJ0SUQ+PFN1cHBsaWVyUGFydEF1eGlsaWFyeUlEPjEyNjQ2OTEzOTUxOTwvU3VwcGxpZXJQYXJ0QXV4aWxpYXJ5SUQ+PC9JdGVtSUQ+PEl0ZW1EZXRhaWwgeHNpOnR5cGU9Iml0ZW1EZXRhaWwiPjxVbml0UHJpY2U+PE1vbmV5IGN1cnJlbmN5PSJDTlkiPjI1LjY4PC9Nb25leT48L1VuaXRQcmljZT48VW5pdFByaWNlV2l0aFRheD48TW9uZXkgY3VycmVuY3k9IkNOWSI+MjkuMDI8L01vbmV5PjwvVW5pdFByaWNlV2l0aFRheD48VGF4PjxUYXhEZXRhaWwgcGVyY2VudGFnZVJhdGU9IjEzLjAwIiBjYXRlZ29yeT0iVkFUIi8+PC9UYXg+PERlc2NyaXB0aW9uIHhtbDpsYW5nPSJ6aC1DTiI+5YeA5L2w5L+QIDg05raI5q+S5rayIOa8gueZveawtCDpmaToj4zmsLQg5p2A6I+M5raI5q+S5rC0My43ODXljYcv5qG2PC9EZXNjcmlwdGlvbj48VW5pdE9mTWVhc3VyZT5FQTwvVW5pdE9mTWVhc3VyZT48TWFudWZhY3R1cmVyUGFydElEPjEyNjQ2OTEzOTUxOTwvTWFudWZhY3R1cmVyUGFydElEPjxMZWFkVGltZT4xNDwvTGVhZFRpbWU+PC9JdGVtRGV0YWlsPjwvSXRlbUluPjxJdGVtSW4gcXVhbnRpdHk9IjMiPjxJdGVtSUQ+PFN1cHBsaWVyUGFydElEPjEwMDAwNjE3NDgzODwvU3VwcGxpZXJQYXJ0SUQ+PFN1cHBsaWVyUGFydEF1eGlsaWFyeUlEPjEyNjQ2OTEzOTUxOTwvU3VwcGxpZXJQYXJ0QXV4aWxpYXJ5SUQ+PC9JdGVtSUQ+PEl0ZW1EZXRhaWwgeHNpOnR5cGU9Iml0ZW1EZXRhaWwiPjxVbml0UHJpY2U+PE1vbmV5IGN1cnJlbmN5PSJDTlkiPjE0NS43NjwvTW9uZXk+PC9Vbml0UHJpY2U+PFVuaXRQcmljZVdpdGhUYXg+PE1vbmV5IGN1cnJlbmN5PSJDTlkiPjE2NC43MjwvTW9uZXk+PC9Vbml0UHJpY2VXaXRoVGF4PjxUYXg+PFRheERldGFpbCBwZXJjZW50YWdlUmF0ZT0iMTMuMDAiIGNhdGVnb3J5PSJWQVQiLz48L1RheD48RGVzY3JpcHRpb24geG1sOmxhbmc9InpoLUNOIj7kupTmnIjoirEoTWF5IEZsb3dlcikg5pOm5omL57q4IOWVhuWKoeeUqOe6uOmFkuW6l+mkkOWOheWNq+eUn+mXtOaKvee6uO+8iDIyNW1tKjIzMG1t77yJ5pW0566x6ZSA5ZSuPC9EZXNjcmlwdGlvbj48VW5pdE9mTWVhc3VyZT5FQTwvVW5pdE9mTWVhc3VyZT48TWFudWZhY3R1cmVyUGFydElEPjEyNjQ2OTEzOTUxOTwvTWFudWZhY3R1cmVyUGFydElEPjxMZWFkVGltZT4xNDwvTGVhZFRpbWU+PC9JdGVtRGV0YWlsPjwvSXRlbUluPjwvUHVuY2hPdXRPcmRlck1lc3NhZ2U+PC9NZXNzYWdlPjwvY1hNTD4=";

        //getFromBase64(str.replace("%", "+"));
        //byte[] encodeBase64 = org.apache.commons.codec.binary.Base64.encodeBase64(str.getBytes());

        //String replace = str.replace("%2B", "+").replace("%3D", "=");

        //String encode = URLEncoder.encode(str,"utf-8");
        String decode = URLDecoder.decode(str, "utf-8");

        byte[] bytes = Base64.getDecoder().decode(decode);
        //System.out.println(bytes);

        String s = new String(bytes, "utf-8");
        //byte[] bytes1 = org.apache.commons.codec.binary.Base64.decodeBase64(s);
        //String s1 = new String(bytes1, "utf-8");
        System.out.println(s);

    }

    public static String getFromBase64(String value) {
        byte[] bytes = null;
        String result = null;
        if (value != null) {
            bytes = Base64.getDecoder().decode(value);
            try {
                result = new String(bytes, "utf-8");
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
        return result;
    }
}
